<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>React Tutorial</title>
  
    <script src="js/react.js"></script>
    <script src="js/react-dom.js"></script>
    <script src="js/browser.min.js"></script>
    <script src="js/jquery.min.js"></script>
</head>

<body>
    <div id="content"></div>
    <script type="text/babel">
    let Score = React.createClass({
        getDefaultProps: function () {
            console.log(`getDefaultProps：       设置初始化props`);
        },
        getInitialState: function () {
            console.log(`getInitialState：       设置初始化state`);
            return {
                counts: 1
            };  // 必须返回null或者Object
        },
        componentWillMount: function () {
            console.log(`componentWillMount：    首次渲染完成`);
        },
        componentDidMount: function () {
            console.log(`componentDidMount：     dom渲染完成`);
        },
        componentWillUpdate: function (nextProps, nextState) {
            // 如果要在这里修改state或者props（虽然并不推荐自身修改props），直接操作这两个参数就好了，毕竟传过来的是地址
            console.log(`componentWillUpdate：   接收到新的state或者props 新的state：${nextState.counts}`);
        },
        componentDidUpdate: function () {
            console.log(`componentDidUpdate：    dom渲染完成`);
        },
        render: function () {
            console.log(`render：                render方法调用`)
            return (
                <div className="score">
                <p>
                    {this.state.title}<span>{this.state.counts}</span>
                </p>
                <button onClick={this.handlerClick}>
                    click me
                </button>
                </div>
            )
        },
        handlerClick : function (event) {
            this.setState((state) => {
                return {
                    counts: ++state.counts
                }
            })
        }
    });
    ReactDOM.render(
        <Score/>,
        document.getElementById("content")
    )
    </script>
</body>

</html>
